<template name="Game">
    {{> Board}}
</template>

<template name="Board">
    <div id="board"
         class="{{currentTurn}}
             {{#if showTurn}} showTurn {{/if}}
             {{#if showMoves}} showMoves {{/if}}
             {{#if showCoordinates}} showCoordinates {{/if}}">
      {{#each squares}}
        {{> Square}}
      {{/each}}
    </div>
</template>

<template name="Square">
    <div id="{{position.row}}{{position.column}}"
         class="square
             {{#if isDark}}dark{{else}}light{{/if}}
             {{#unless piece}}empty{{/unless}}
             {{#if from}}selected{{/if}}
             {{#if isValid}}valid{{/if}}
             {{my}}"
         data-row="{{position.row}}"
         data-column="{{position.column}}">
        <span>
        {{{piece.code}}}
        </span>
    </div>
</template>