<template name="Game">
    {{> Board}}


</template>

<template name="Board">
    <div id="board"
         class="{{currentTurn}}
             {{#if showTurn}} showTurn {{/if}}
             {{#if showMoves}} showMoves {{/if}}
             {{#if showCoordinates}} showCoordinates {{/if}}">
      {{#each squares}}
        {{> Square}}
      {{/each}}
    </div>

    <div id="checkmate" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Checkmate</h4>
                </div>
                <div class="modal-body">
                    <p>Do you want to start a new game with your opponent or leave?</p>
                </div>
                <div class="modal-footer">
                    <button id="checkmate-leave" type="button" class="btn btn-default" data-dismiss="modal">Leave</button>
                    <button id="checkmate-reset" type="button" class="btn btn-primary" data-dismiss="modal">Start</button>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="Square">
    <div id="{{position.row}}{{position.column}}"
         class="square
             {{#if isDark}}dark{{else}}light{{/if}}
             {{#if from}}selected{{/if}}
             {{#if isValid}}valid{{/if}}
             {{my}}"
         data-row="{{position.row}}"
         data-column="{{position.column}}">
        <span>
            {{#if piece}}
                {{{piece.code}}}
            {{else}}
                &#9814;
            {{/if}}
        </span>
    </div>
</template>